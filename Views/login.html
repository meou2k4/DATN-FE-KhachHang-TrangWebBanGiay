<!-- <title>Đăng nhập</title>
<style>
    .container{
        margin: 20px;
    }
    .login-form {
        background-color: white;
        padding: 50px;
        border-radius: 1rem;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        max-width: 400px;
        width: 100%;
        margin: auto;
    }

    .btn-login {
        background-color: #6a11cb;
        border-color: #6a11cb;
    }

    .btn-login:hover {
        background-color: #5a0cb2;
        border-color: #5a0cb2;
    }

    .loading-spinner {
        display: inline-block;
        width: 1rem;
        height: 1rem;
        margin-right: 0.5rem;
        border: 0.2em solid currentColor;
        border-right-color: transparent;
        border-radius: 50%;
        animation: spinner-border .75s linear infinite;
    }
  
.input-group-text i:hover {
    color: #0056b3;
}
.login-form {
    max-width: 400px;
    margin: 50px auto; 
    background-color: #fff;
    padding: 30px;
    border-radius: 12px;
    border: 2px solid #007bff; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); 
}


h2 {
    font-size: 24px;
    color: #333;
    margin-bottom: 30px;
}

/* Các trường input */
.form-control {
    border-radius: 8px; 
    padding: 10px;
    font-size: 16px;
    border: 2px solid #ccc; 
    transition: all 0.3s ease; 
}


.form-control:focus {
    border-color: #007bff; 
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5); 
}


.text-danger {
    font-size: 12px;
    margin-top: 5px;
}


.form-check-label {
    font-size: 14px;
}


.btn-primary {
    background-color: #007bff;
    border: 2px solid #007bff;
    padding: 12px;
    font-size: 16px;
    border-radius: 8px;
    color: #fff;
    transition: all 0.3s ease;
}


.btn-primary:hover {
    background-color: #0056b3;
    border-color: #0056b3;
    
}



.input-group-text i {
    font-size: 20px;
    color: #007bff;
    transition: color 0.3s ease;
}
.input-group{
    border-radius: 12px;
}
</style>



<div class="container">
    <div class="login-form">
        <h2 class="text-center mb-4">Đăng nhập</h2>
        <form ng-submit="step === 1 ? checkEmail() : login()" name="loginForm" novalidate>
            Nhập email
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="example@gmail.com"
                    autocomplete="username" ng-model="user.email" ng-change="resetPasswordInput()" required>
                <div class="text-danger" ng-show="loginForm.email.$dirty && loginForm.email.$invalid">
                    <small ng-show="loginForm.email.$error.required">Email là bắt buộc</small>
                    <small ng-show="loginForm.email.$error.email">Email không hợp lệ</small>
                </div>
            </div>
            Nhập mật khẩu
            <div ng-if="step === 2" class="mb-3">
                <label for="password" class="form-label">Mật khẩu</label>
                <div class="input-group">
                    <input 
                        type="{{showPassword ? 'text' : 'password'}}" 
                        class="form-control" 
                        id="password" 
                        name="password" 
                        placeholder="••••••••" 
                        autocomplete="current-password" 
                        ng-model="user.password" 
                        required>
                    <span class="input-group-text" ng-click="showPassword = !showPassword" style="cursor: pointer;">
                        <i ng-class="{'bi bi-eye': !showPassword, 'bi bi-eye-slash': showPassword}"></i>
                    </span>
                </div>
                <div class="text-danger" ng-show="loginForm.password.$dirty && loginForm.password.$invalid">
                    <small ng-show="loginForm.password.$error.required">Mật khẩu là bắt buộc</small>
                </div>
            </div>
        
            Thông báo lỗi
            <div class="alert alert-danger" ng-if="errorMessage">
                {{errorMessage}}
            </div>
        
            Nút tiếp tục/đăng nhập
            <div class="d-grid">
                <button type="submit" class="btn btn-primary btn-login" ng-disabled="loginForm.$invalid || isLoading">
                    <span class="loading-spinner" ng-if="isLoading"></span>
                    {{step === 1 ? 'Tiếp tục' : (isLoading ? 'Đang đăng nhập...' : 'Đăng nhập')}}
                </button>
            </div>
            
            <div class="text-center mt-3">
                <a href="#!quenmatkhau" class="text-primary">Quên mật khẩu?</a>
            </div>
        </form>
        <div class="text-center mt-4">
            <p>Chưa có tài khoản? <a href="#!dangky" class="text-primary">Đăng ký ngay</a></p>
        </div>
    </div>
</div> -->
<div class="container my-5">
    <div class="row g-0 border rounded-3 shadow-lg">
        <!-- Left Column - Login Form -->
        <div class="col-md-6 p-4 p-md-5 border-end">
            <h2 class="fw-bold mb-4">ĐĂNG NHẬP</h2>
            <form ng-submit="step === 1 ? checkEmail() : login()" name="loginForm" novalidate>
                <!-- Email Field -->
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" 
                           class="form-control" 
                           id="email" 
                           name="email" 
                           placeholder="example@gmail.com"
                           autocomplete="username" 
                           ng-model="user.email" 
                           ng-change="resetPasswordInput()" 
                           required>
                    <div class="text-danger" ng-show="loginForm.email.$dirty && loginForm.email.$invalid">
                        <small ng-show="loginForm.email.$error.required">Email là bắt buộc</small>
                        <small ng-show="loginForm.email.$error.email">Email không hợp lệ</small>
                    </div>
                </div>

                <!-- Password Field -->
                <div ng-if="step === 2" class="mb-3">
                    <label for="password" class="form-label">Mật khẩu</label>
                    <div class="input-group">
                        <input type="{{showPassword ? 'text' : 'password'}}"
                               class="form-control"
                               id="password"
                               name="password"
                               placeholder="••••••••"
                               autocomplete="current-password"
                               ng-model="user.password"
                               required>
                        <span class="input-group-text" 
                              ng-click="showPassword = !showPassword">
                            <i ng-class="{'bi bi-eye': !showPassword, 'bi bi-eye-slash': showPassword}"></i>
                        </span>
                    </div>
                    <div class="text-danger" ng-show="loginForm.password.$dirty && loginForm.password.$invalid">
                        <small ng-show="loginForm.password.$error.required">Mật khẩu là bắt buộc</small>
                    </div>
                </div>

                <!-- Error Message -->
                <div class="alert alert-danger" ng-if="errorMessage">
                    {{errorMessage}}
                </div>

                <!-- Forgot Password Link -->
                <div class="mb-3">
                    <a href="#!quenmatkhau" class="text-decoration-underline">Bạn quên mật khẩu?</a>
                </div>

                <!-- Submit Button -->
                <div class="d-grid">
                    <button type="submit" 
                            class="btn btn-dark"
                            ng-disabled="loginForm.$invalid || isLoading">
                        <span class="loading-spinner" ng-if="isLoading"></span>
                        {{step === 1 ? 'Tiếp tục' : (isLoading ? 'Đang đăng nhập...' : 'ĐĂNG NHẬP')}}
                    </button>
                </div>
            </form>
        </div>

        <!-- Right Column - Registration Info -->
        <div class="col-md-6 p-4 p-md-5 bg-light">
            <h2 class="fw-bold mb-4">TẠO MỘT TÀI KHOẢN</h2>
            <p class="text-muted mb-4">
                Thật dễ dàng tạo một tài khoản. Hãy nhập địa chỉ email của bạn và điền vào 
                mẫu trên trang tiếp theo và tận hưởng những lợi ích của việc sở hữu một tài khoản:
            </p>
            <ul class="list-unstyled mb-4">
                <li class="mb-2">
                    <i class="bi bi-check2 text-success me-2"></i>
                    Tổng quan đơn giản về thông tin cá nhân của bạn
                </li>
                <li class="mb-2">
                    <i class="bi bi-check2 text-success me-2"></i>
                    Thanh toán nhanh hơn
                </li>
                <li class="mb-2">
                    <i class="bi bi-check2 text-success me-2"></i>
                    Ưu đãi và khuyến mãi độc quyền
                </li>
                <li class="mb-2">
                    <i class="bi bi-check2 text-success me-2"></i>
                    Các sản phẩm mới nhất
                </li>
                <li class="mb-2">
                    <i class="bi bi-check2 text-success me-2"></i>
                    Các bộ sưu tập giới hạn và bộ sưu tập theo mùa mới
                </li>
                <li class="mb-2">
                    <i class="bi bi-check2 text-success me-2"></i>
                    Các sự kiện sắp tới
                </li>
            </ul>
            <div class="d-grid">
                <a href="#!dangky" class="btn btn-dark">
                    ĐĂNG KÍ <i class="bi bi-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
    </div>
</div>

<style>
.container {
    max-width: 1200px;
}

.form-control {
    padding: 0.75rem 1rem;
    border-radius: 4px;
    border: 2px solid #dee2e6;
    transition: all 0.3s ease;
}

.form-control:focus {
    border-color: #000;
    box-shadow: none;
}

.input-group-text {
    cursor: pointer;
    border: 2px solid #dee2e6;
    border-left: none;
}

.btn {
    padding: 0.75rem 1.5rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.loading-spinner {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    margin-right: 0.5rem;
    border: 0.2em solid currentColor;
    border-right-color: transparent;
    border-radius: 50%;
    animation: spinner-border .75s linear infinite;
}

@media (max-width: 767.98px) {
    .border-end {
        border-right: none !important;
        border-bottom: 1px solid #dee2e6;
    }
}
</style>